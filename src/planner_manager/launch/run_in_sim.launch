<launch>

<arg name="odom_topic" default="/odom"/>


<!-- pcs_map manager -->
	<node pkg="planner_manager" name="scf_planner_node" type="scf_planner_node" output="screen">

	  <param name="occupancy_resolution" value="0.2"/>
	  <param name="sta_threshold"   value="1"/>
	  <param name="debug_output"   value="false"/>

	  <param name="traj_parlength"   value="1.5"/>

	  <param name="optimization/K"     value="8"  		/>
	  <param name="optimization/pok"   value="0.3"		/>
	  <param name="optimization/vmax"  value="2.0" 		/>
	  <param name="optimization/amax"  value="5.0"		/>
	  <param name="optimization/vmaxz" value="0.2"		/>
	  <param name="optimization/amaxz" value="0.4"		/>
	  <param name="optimization/rhoT"  value="1000.0"	/>
	  <param name="optimization/rhoP"  value="10000.0"/>
	  <param name="optimization/rhoV"  value="1000.0"	/>
	  <param name="optimization/rhoA"  value="1000.0"	/>
	  
	  <remap from="~globalmap"     			to="/globalmap" />
	  <remap from="~globalmap_vis"			to="/globalmap_vis" />
	  <remap from="~gridmap_vis" 			to="/gridmap_vis" />
	  <remap from="~voxel_vis"			 	to="/voxel_vis" />
	  <remap from="~rcvmap_signal"			to="/rcvmap_signal" />
	  <remap from="~odom"					to="$(arg odom_topic)"/>


	  <remap from="~trajectory"			to="/trajectory" />
	  
	</node>

<!-- trajectory server -->
	<node pkg="planner_manager" name="traj_server" type="traj_server" output="screen">

	  <remap from="~trajectory_topic"     	to="/trajectory" />
	  <remap from="~odom" 					to="$(arg odom_topic)" />
	  <remap from="~despoint" 				to="/des_p" />
	  <remap from="~point/vis"  			to="/vis_p" />
	  <remap from="~controller_cmd"  		to="/planning/pos_cmd" />

	</node>

<!-- use simulator -->
	<include file="$(find planner_manager)/launch/simulator.xml">
		<arg name="odometry_topic" value="$(arg odom_topic)" />
	</include>

<!-- use program code globalmap generator -->
	<include file="$(find globalmap_gene)/launch/globalmap_gene.launch"/>


<!-- rviz -->
    	<node name="rviz" pkg="rviz" type="rviz" args="-d $(find map_manager)/param/default.rviz" required="true" />

</launch>
